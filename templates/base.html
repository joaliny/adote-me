<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Adote-me 🐾{% endblock %}</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">

  <!-- Estilo específico da home (opcional) -->
  {% if pagina == 'home' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
  {% endif %}
  {% if pagina == 'cadastrar' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='cadastrar.css') }}">
  {% endif %}
  {% if pagina == 'adotar' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='adotar.css') }}">
  {% endif %}
  {% if pagina == 'detalhes_pet' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='detalhes_pet.css') }}">
  {% endif %}
</head>

<body>
  
  <!-- Header e Navegação -->
  <header>
    <div class="container-header">
      <div class="logo">Adote-<span>me 🐾</span></div>
      <nav>
        <ul>
          <li><a href="/home" class="{% if pagina == 'home' %}active{% endif %}">Página Inicial</a></li>
          <li><a href="/sobre" class="{% if pagina == 'sobre' %}active{% endif %}">Sobre nós</a></li>
          <li><a href="/blog" class="{% if pagina == 'blog' %}active{% endif %}">Blog</a></li>
          <li><a href="/adotar" class="{% if pagina == 'adotar' %}active{% endif %}">Pets para adoção</a></li>
          <li><a href="/cadastrar" class="{% if pagina == 'cadastrar' %}active{% endif %}">Cadastrar Pet</a></li>

          <!-- Mostrar "Cadastrar Pet" apenas para protetores e admin -->
          {% if usuario and usuario.tipo in ['protetor', 'admin'] %}
          <li><a href="/cadastrar" class="{% if pagina == 'cadastrar' %}active{% endif %}">Cadastrar Pet</a></li>
          {% endif %}
        </ul>
      </nav>
      

      <!-- BOTÕES DE AUTENTICAÇÃO - APENAS UMA DIV -->
      <div class="auth-buttons">
        {% if usuario and usuario.id %}
        <div class="dropdown">
          <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
            Olá, {{ usuario.nome }}
            {% if usuario.tipo == 'admin' %} 👑
            {% elif usuario.tipo == 'protetor' %} 🏠
            {% endif %}
          </button>
          <ul class="dropdown-menu">
            {% if usuario.tipo == 'admin' %}
            <li><a class="dropdown-item" href="/admin">Dashboard Admin</a></li>
            <li><a class="dropdown-item" href="/admin/protetores">Gerenciar Protetores</a></li>
            {% elif usuario.tipo == 'protetor' %}
            <li><a class="dropdown-item" href="/protetor">Meu Dashboard</a></li>
            <li><a class="dropdown-item" href="/cadastrar">Cadastrar Pet</a></li>
            {% else %}
            <li><a class="dropdown-item" href="/minha-conta">Minha Conta</a></li>
            {% endif %}
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="/logout">Sair</a></li>
          </ul>
        </div>
        {% else %}
        <a href="/login" class="btn-login">Entrar</a>
        <a href="/cadastro" class="btn-register">Cadastrar</a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- Conteúdo da página -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Footer global -->
  <footer>
    <div class="footer-content">
      <div class="footer-column">
        <div class="logo">Adote-<span>me 🐾</span></div>
        <p>Conectando pets a lares amorosos desde 2025. Nossa missão é reduzir o número de animais abandonados através
          da adoção responsável.</p>
      </div>

      <div class="footer-column">
        <h3>Links Rápidos</h3>
        <ul>
          <li><a href="/home">Página Inicial</a></li>
          <li><a href="/sobre">Sobre nós</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/adotar">Pets para adoção</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Contato</h3>
        <ul>
          <li>Email: contato@adote-me.com</li>
          <li>Telefone: (92) 1234-5678</li>
          <li>Endereço: Manaus, AM</li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025 Adote-me. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>