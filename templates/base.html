<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Adote-me ğŸ¾{% endblock %}</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">

  <!-- Estilo especÃ­fico da home (opcional) -->
  {% if pagina == 'home' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
  {% endif %}
  {% if pagina == 'cadastrar' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/cadastrar.css') }}">
  {% endif %}
  {% if pagina == 'adotar' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/adotar.css') }}">
  {% endif %}
  {% if pagina == 'detalhes_pet' %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/detalhes_pet.css') }}">
  {% endif %}
</head>

<body>

  <!-- Header e NavegaÃ§Ã£o -->
  <header>
    <div class="container-header">
      <div class="logo">Adote-<span>me ğŸ¾</span></div>
      <nav>
        <ul>
          <li><a href="/home" class="{% if pagina == 'home' %}active{% endif %}">PÃ¡gina Inicial</a></li>
          <li><a href="/sobre" class="{% if pagina == 'sobre' %}active{% endif %}">Sobre nÃ³s</a></li>
          <li><a href="/blog" class="{% if pagina == 'blog' %}active{% endif %}">Blog</a></li>
          <li><a href="/adotar" class="{% if pagina == 'adotar' %}active{% endif %}">Pets para adoÃ§Ã£o</a></li>

          <!-- Mostrar "Cadastrar Pet" apenas para admin -->
          {% if usuario and usuario.tipo == 'admin' %}
          <li><a href="/cadastrar" class="{% if pagina == 'cadastrar' %}active{% endif %}">Cadastrar Pet</a></li>
          {% endif %}
        </ul>
      </nav>

      <!-- BOTÃ•ES DE AUTENTICAÃ‡ÃƒO - APENAS UMA DIV -->
      <div class="auth-buttons">
        {% if usuario and usuario.id %}
        <div class="dropdown">
          <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
            OlÃ¡, {{ usuario.nome }}
            {% if usuario.tipo == 'admin' %} ğŸ§‘â€ğŸ’»
            {% else %} ğŸ˜Š
            {% endif %}
          </button>
          <ul class="dropdown-menu">
            <!-- PARA ADMIN -->
            {% if usuario.tipo == 'admin' %}
            <li><a class="dropdown-item" href="/admin">
                <i class="bi bi-speedometer2"></i> Dashboard Admin
              </a></li>
            <li><a class="dropdown-item" href="/admin/protetores">
                <i class="bi bi-people"></i> Gerenciar UsuÃ¡rios
              </a></li>

            <!-- PARA USUÃRIO COMUM (ADOTANTE) -->
            {% else %}
            <li><a class="dropdown-item" href="/minha-conta">
                <i class="bi bi-person"></i> Minha Conta
              </a></li>
            <li><a class="dropdown-item" href="/meus-favoritos">
                <i class="bi bi-heart"></i> Meus Favoritos
              </a></li>
            <li><a class="dropdown-item" href="/minhas-adocoes">
                <i class="bi bi-house-check"></i> Minhas AdoÃ§Ãµes
              </a></li>
            {% endif %}

            <!-- OPÃ‡Ã•ES COMUNS A TODOS -->
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item text-danger" href="/logout">
                <i class="bi bi-box-arrow-right"></i> Sair
              </a></li>
          </ul>
        </div>
        {% else %}
        <a href="/login" class="btn-login">Entrar</a>
        <a href="/cadastro" class="btn-register">Cadastrar</a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- ConteÃºdo da pÃ¡gina -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Footer global -->
  <footer>
    <div class="footer-content">
      <div class="footer-column">
        <div class="logo">Adote-<span style="filter: brightness(0) invert(1);">meğŸ¾</span></div>
        <p>Conectando pets a lares amorosos desde 2025. Nossa missÃ£o Ã© reduzir o nÃºmero de animais abandonados atravÃ©s
          da adoÃ§Ã£o responsÃ¡vel.</p>
      </div>

      <div class="footer-column">
        <h3>Links RÃ¡pidos</h3>
        <ul>
          <li><a href="/home">PÃ¡gina Inicial</a></li>
          <li><a href="/sobre">Sobre nÃ³s</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/adotar">Pets para adoÃ§Ã£o</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h3>Contato</h3>
        <ul>
          <li>Email: contato@adote-me.com</li>
          <li>Telefone: (92) 1234-5678</li>
          <li>EndereÃ§o: Manaus, AM</li>
        </ul>
      </div>
    </div>

    <div class="copyright">
      <p>&copy; 2025 Adote-me. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>